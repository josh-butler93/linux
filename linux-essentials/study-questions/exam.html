<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Linux Essentials — Full Practice Test (100 MCQs)</title>
<style>
  :root{--ok:#1b5e20;--bad:#b71c1c;--soft:#f4f6f8;--card:#ffffff;--accent:#1565c0;}
  body{margin:0;background:var(--soft);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;line-height:1.45;color:#222}
  header{padding:22px 16px;background:var(--card);box-shadow:0 2px 8px rgba(0,0,0,.06);position:sticky;top:0;z-index:2}
  h1{margin:0;font-size:20px}
  .sub{opacity:.75;margin-top:4px}
  .wrap{max-width:980px;margin:24px auto;padding:0 16px}
  .card{background:var(--card);border-radius:14px;box-shadow:0 6px 24px rgba(0,0,0,.06);padding:20px}
  .sec-title{font-weight:700;margin:0 0 12px 0;color:#333}
  .qhead{font-weight:600;margin-bottom:10px}
  .options{display:grid;gap:10px}
  .opt{border:1px solid #e2e6ea;border-radius:10px;background:#f7f9fb;padding:12px;text-align:left;cursor:pointer;font:inherit}
  .opt:disabled{cursor:not-allowed;opacity:.8}
  .opt.correct{border-color:var(--ok);background:#e6f5e8}
  .opt.wrong{border-color:var(--bad);background:#fde9ea}
  .exp{margin-top:12px;border-left:4px solid var(--accent);background:#e8f1fd;padding:10px 12px;border-radius:8px}
  .ctr{display:flex;gap:8px;justify-content:space-between;align-items:center;margin-top:16px}
  .btn{border:0;background:var(--accent);color:#fff;padding:10px 14px;border-radius:10px;font:inherit;cursor:pointer}
  .btn[disabled]{opacity:.5;cursor:not-allowed}
  .meter{height:8px;background:#e9ecef;border-radius:999px;overflow:hidden;margin:8px 0}
  .meter > div{height:100%;background:linear-gradient(90deg,#4caf50,#81c784);width:0%}
  .muted{opacity:.7}
  #summary{margin-top:28px}
  .done{font-size:20px;font-weight:700;margin:0 0 6px}
  .score{font-weight:700}
  hr{border:0;border-top:1px solid #e6eaee;margin:18px 0}
  details{background:#f7f9fb;border:1px solid #e6eaee;border-radius:10px;padding:10px 12px}
  details + details{margin-top:10px}
  summary{cursor:pointer;font-weight:600}
  .mini{font-size:14px}
  code{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;background:#f3f5f7;border-radius:6px;padding:0 4px}
</style>
</head>
<body>
<header>
  <h1>Linux Essentials — Full Practice Test (100 MCQs)</h1>
  <div class="sub">All 5 objectives • 20 questions each • instant feedback • full review at the end</div>
</header>

<div class="wrap">
  <div class="card">
    <div class="meter"><div id="bar"></div></div>
    <div class="mini muted"><span id="count">Question 1 / 100</span> • <span id="sectag"></span></div>
    <h3 class="sec-title" id="sec"></h3>
    <div class="qhead" id="qtext"></div>
    <div id="opts" class="options"></div>
    <div id="exp" class="exp" style="display:none"></div>
    <div class="ctr">
      <div class="muted"><span class="score" id="score">0</span> correct</div>
      <div>
        <button class="btn" id="skip">Skip</button>
        <button class="btn" id="next" disabled>Next</button>
      </div>
    </div>
  </div>

  <div id="summary" class="card" style="display:none"></div>
</div>

<script>
/* =========================
   DATA — 100 QUESTIONS
   20 per section, matching Linux Essentials objectives
   Each item: {section, question, options[], answer, explanation}
   ========================= */

const data = [
/* ========= SECTION 1 =========
   The Linux Community and a Career in Open Source (20)
*/
{section:"1. The Linux Community and a Career in Open Source",question:"Which best describes the difference between Free Software and Open Source?",options:["Free Software is about price; Open Source is about code access","Free Software emphasizes user freedoms; Open Source emphasizes practical code sharing","Open Source restricts commercial use; Free Software does not","They are identical terms"],answer:1,explanation:"Free Software focuses on the four freedoms; Open Source stresses practical development benefits and code access."},
{section:"1. The Linux Community and a Career in Open Source",question:"Primary goal of the Open Source Initiative (OSI)?",options:["Promote free internet","Certify and steward open-source licenses","Enforce GPL worldwide","Develop the Linux kernel"],answer:1,explanation:"OSI maintains the Open Source Definition and approves compliant licenses."},
{section:"1. The Linux Community and a Career in Open Source",question:"Which license is copyleft?",options:["MIT","BSD","Apache 2.0","GNU GPL"],answer:3,explanation:"GPL requires derivatives to remain under the same license (copyleft)."},
{section:"1. The Linux Community and a Career in Open Source",question:"What is 'copyleft'?",options:["Only copying allowed","No modifications allowed","Derivatives must keep the same license","Commercial use is forbidden"],answer:2,explanation:"Copyleft ensures modified versions stay open under the original license."},
{section:"1. The Linux Community and a Career in Open Source",question:"Role of the Free Software Foundation (FSF)?",options:["Approve distros","Enforce trademarks","Promote software freedoms; steward GPL","Develop proprietary Unix"],answer:2,explanation:"FSF promotes user freedoms and created the GPL licenses."},
{section:"1. The Linux Community and a Career in Open Source",question:"Who coordinates Linux kernel development?",options:["LPI","OSI","Linux Foundation","FSF"],answer:2,explanation:"The Linux Foundation coordinates the community effort for the kernel."},
{section:"1. The Linux Community and a Career in Open Source",question:"What does 'vendor-neutral' mean for LPI exams?",options:["Free of charge","Red-Hat only","Not tied to any single distro/product","Excludes proprietary commands"],answer:2,explanation:"Objectives apply across distributions (Debian, Ubuntu, Fedora, SUSE, etc.)."},
{section:"1. The Linux Community and a Career in Open Source",question:"Debian-based package format?",options:[".rpm",".deb",".pkg",".xz"],answer:1,explanation:".deb is used by Debian/Ubuntu family."},
{section:"1. The Linux Community and a Career in Open Source",question:"Install package on modern Red Hat–based systems?",options:["apt install","dnf install","zypper in","pacman -S"],answer:1,explanation:"DNF is the successor to YUM in RHEL/Fedora/CentOS Stream."},
{section:"1. The Linux Community and a Career in Open Source",question:"Why enterprises adopt open source?",options:["Requires no training","Built-in malware immunity","Lower cost + flexibility/customization","Cloud-only availability"],answer:2,explanation:"Cost control, transparency, and adaptability are key."},
{section:"1. The Linux Community and a Career in Open Source",question:"Which freedom is 'study how the program works'?",options:["Freedom 0","Freedom 1","Freedom 2","Freedom 3"],answer:1,explanation:"FSF Freedom 1: study how the program works (requires source access)."},
{section:"1. The Linux Community and a Career in Open Source",question:"Core license for the Linux kernel?",options:["GPLv3","GPLv2","LGPLv2.1","AGPLv3"],answer:1,explanation:"Linux kernel is GPL version 2."},
{section:"1. The Linux Community and a Career in Open Source",question:"Ubuntu derives from:",options:["Fedora","Debian","Arch","Gentoo"],answer:1,explanation:"Ubuntu is based on Debian."},
{section:"1. The Linux Community and a Career in Open Source",question:"zypper belongs to:",options:["Debian/Ubuntu","Arch","openSUSE/SLE","Alpine"],answer:2,explanation:"zypper is the package manager for openSUSE and SLE."},
{section:"1. The Linux Community and a Career in Open Source",question:"FOSS stands for:",options:["Federal OS Systems","Free and Open Source Software","Fast Open Standard Software","Free Operating System Software"],answer:1,explanation:"FOSS = Free and Open Source Software."},
{section:"1. The Linux Community and a Career in Open Source",question:"Which is NOT a typical open-source benefit?",options:["Transparency","Vendor lock-in","Community support","Flexibility"],answer:1,explanation:"Open source reduces lock-in rather than creating it."},
{section:"1. The Linux Community and a Career in Open Source",question:"Which permissive license allows proprietary reuse?",options:["GPL","AGPL","MIT","Copyleft"],answer:2,explanation:"MIT is permissive; it allows use in closed-source software."},
{section:"1. The Linux Community and a Career in Open Source",question:"What is a Linux distribution?",options:["A kernel module","A bundled OS with kernel + packages","Only a desktop environment","A packaging tool"],answer:1,explanation:"A distro combines the kernel with userland and package ecosystem."},
{section:"1. The Linux Community and a Career in Open Source",question:"Ubuntu’s default package manager:",options:["apt","dnf","zypper","yum"],answer:0,explanation:"Ubuntu/Debian use APT front-end with dpkg underneath."},
{section:"1. The Linux Community and a Career in Open Source",question:"Which community org defines 'Open Source' criteria?",options:["LPI","OSI","FSF","CNCF"],answer:1,explanation:"OSI maintains the Open Source Definition."},

/* ========= SECTION 2 =========
   Finding Your Way on a Linux System (20)
*/
{section:"2. Finding Your Way on a Linux System",question:"Display current working directory:",options:["ls","pwd","cd","whoami"],answer:1,explanation:"Use <code>pwd</code> to print the absolute path of the current directory."},
{section:"2. Finding Your Way on a Linux System",question:"List directory contents:",options:["cat","cd","ls","echo"],answer:2,explanation:"<code>ls</code> lists files and directories."},
{section:"2. Finding Your Way on a Linux System",question:"Effect of <code>cd /home/user/Documents</code>:",options:["Deletes Documents","Copies Documents","Changes into Documents","Lists Documents"],answer:2,explanation:"Changes the current directory to the given absolute path."},
{section:"2. Finding Your Way on a Linux System",question:"Home directory shorthand:",options:["/","~",".","*"],answer:1,explanation:"Tilde (<code>~</code>) expands to the user's home directory."},
{section:"2. Finding Your Way on a Linux System",question:"Wildcard matching all <code>.txt</code> files:",options:["txt*","*.txt",".txt*","*txt."],answer:1,explanation:"<code>*.txt</code> matches any name ending in .txt."},
{section:"2. Finding Your Way on a Linux System",question:"Find files by name recursively:",options:["grep","find","which","whereis"],answer:1,explanation:"<code>find</code> traverses directories in real time."},
{section:"2. Finding Your Way on a Linux System",question:"What extra does <code>ls -l</code> show?",options:["Names only","File contents","Detailed info inc. permissions/owner/size","Recursive tree"],answer:2,explanation:"Long listing shows permissions, links, owner, group, size, time."},
{section:"2. Finding Your Way on a Linux System",question:"Meaning of <code>.</code> in paths:",options:["Root","Parent","Current directory","Hidden directory"],answer:2,explanation:"<code>.</code> refers to the current directory."},
{section:"2. Finding Your Way on a Linux System",question:"Show absolute path to an executable:",options:["find","which","cd","locate"],answer:1,explanation:"<code>which</code> prints the path found via <code>$PATH</code>."},
{section:"2. Finding Your Way on a Linux System",question:"Env var searched for executables:",options:["$HOME","$USER","$PATH","$PWD"],answer:2,explanation:"<code>PATH</code> holds colon-separated directories for command lookup."},
{section:"2. Finding Your Way on a Linux System",question:"What does <code>type</code> show?",options:["Manual pages","File formats","How the shell interprets a command (builtin/alias/path)","Opens editor"],answer:2,explanation:"<code>type cmd</code> reveals if it's a builtin, alias, function, or file path."},
{section:"2. Finding Your Way on a Linux System",question:"Pager manuals:",options:["man","nano","echo","whatis"],answer:0,explanation:"<code>man</code> uses a pager to display manual pages."},
{section:"2. Finding Your Way on a Linux System",question:"One-line command summary:",options:["type","whatis","find","cd"],answer:1,explanation:"<code>whatis</code> shows the short description from man page database."},
{section:"2. Finding Your Way on a Linux System",question:"Parent directory symbol:",options:["/","~","..","."],answer:2,explanation:"<code>..</code> is the parent directory."},
{section:"2. Finding Your Way on a Linux System",question:"<code>cd</code> with no args goes to:",options:["/","Home","/root","/tmp"],answer:1,explanation:"With no arguments, <code>cd</code> returns to <code>$HOME</code>."},
{section:"2. Finding Your Way on a Linux System",question:"Indexed name search by keyword:",options:["find","grep","locate","ls"],answer:2,explanation:"<code>locate</code> queries a prebuilt database (updated by <code>updatedb</code>)."},
{section:"2. Finding Your Way on a Linux System",question:"User-persistent env vars commonly set in:",options:["/etc/sudoers","~/.bashrc","/etc/passwd","/var/log/syslog"],answer:1,explanation:"<code>~/.bashrc</code> is a common place for per-user shell environment."},
{section:"2. Finding Your Way on a Linux System",question:"Update locate database:",options:["locate --update","find -refresh","updatedb","refreshdb"],answer:2,explanation:"Run <code>updatedb</code> (as root on many systems)."},
{section:"2. Finding Your Way on a Linux System",question:"Expands to current dir path:",options:["$HOME","$USER","$PWD","$SHELL"],answer:2,explanation:"<code>$PWD</code> is maintained by the shell as your current working directory."},
{section:"2. Finding Your Way on a Linux System",question:"Search for text inside files:",options:["cat","find","grep","ls"],answer:2,explanation:"<code>grep</code> searches file contents for patterns."},

/* ========= SECTION 3 =========
   The Power of the Command Line (20)
*/
{section:"3. The Power of the Command Line",question:"<code>cat file1 file2 > out.txt</code> does what?",options:["Displays both files","Appends to terminal","Combines into new file (overwrite)","Appends to file2"],answer:2,explanation:"Redirect with <code>></code> overwrites <code>out.txt</code> with concatenated contents."},
{section:"3. The Power of the Command Line",question:"Operator to append without overwriting:",options:[">",">>","|","<"],answer:1,explanation:"<code>>></code> appends stdout to a file."},
{section:"3. The Power of the Command Line",question:"Purpose of <code>|</code> (pipe)?",options:["Redirect input","Join files","Send output of one cmd to next cmd's input","End a process"],answer:2,explanation:"Pipes chain commands into powerful workflows."},
{section:"3. The Power of the Command Line",question:"<code>ls | grep txt</code> does:",options:["Finds .txt recursively","Searches inside files","Filters <code>ls</code> output for 'txt' lines","Copies .txt files"],answer:2,explanation:"Grep filters the piped listing text."},
{section:"3. The Power of the Command Line",question:"First 10 lines of a file:",options:["tail","head","more","less"],answer:1,explanation:"<code>head</code> shows the beginning; <code>head -n N</code> sets count."},
{section:"3. The Power of the Command Line",question:"Follow a log as it grows:",options:["head -f","less -f","tail -f","cat -n"],answer:2,explanation:"<code>tail -f</code> streams appended lines."},
{section:"3. The Power of the Command Line",question:"<code>touch</code> does:",options:["Opens file","Edits file","Creates empty / updates timestamp","Deletes file"],answer:2,explanation:"Creates if missing; otherwise updates mtime."},
{section:"3. The Power of the Command Line",question:"Rename <code>test.txt</code> to <code>renamed.txt</code>:",options:["cp test.txt renamed.txt","mv test.txt renamed.txt","rename test.txt renamed.txt","rm test.txt renamed.txt"],answer:1,explanation:"<code>mv</code> moves or renames."},
{section:"3. The Power of the Command Line",question:"Delete a file:",options:["mv","remove","rm","del"],answer:2,explanation:"<code>rm</code> removes files; <code>rm -r</code> for directories."},
{section:"3. The Power of the Command Line",question:"<code>wc</code> prints:",options:["Sorted lines","Env vars","Counts of lines/words/bytes","Columns"],answer:2,explanation:"<code>wc -l</code> for lines, <code>-w</code> words, <code>-c</code> bytes."},
{section:"3. The Power of the Command Line",question:"<code>chmod</code> is used to:",options:["Modify env","Set permissions","Change owner","Compress files"],answer:1,explanation:"Use octal (e.g., 755) or symbolic (e.g., u+x) modes."},
{section:"3. The Power of the Command Line",question:"Sort lines alphabetically:",options:["cat","sort","cut","uniq"],answer:1,explanation:"<code>sort</code> orders input; combine with <code>uniq</code> to de-dup."},
{section:"3. The Power of the Command Line",question:"Redirect only stderr to file:",options:["1> err","2> err","&> err","err> 2"],answer:1,explanation:"FD 2 is stderr; FD 1 is stdout."},
{section:"3. The Power of the Command Line",question:"Show manual page for <code>ls</code>:",options:["ls --help","man ls","info","whatis ls"],answer:1,explanation:"<code>man</code> displays full manual entries."},
{section:"3. The Power of the Command Line",question:"List previously run commands:",options:["history","uptime","who","jobs"],answer:0,explanation:"<code>history</code> keeps command history for the shell."},
{section:"3. The Power of the Command Line",question:"Search for patterns in files:",options:["find","grep","locate","which"],answer:1,explanation:"<code>grep</code> finds lines matching regex/patterns."},
{section:"3. The Power of the Command Line",question:"Combine two commands only if first succeeds:",options:["cmd1 ; cmd2","cmd1 && cmd2","cmd1 || cmd2","cmd1 | cmd2"],answer:1,explanation:"<code>&&</code> runs the second only on success (exit 0)."},
{section:"3. The Power of the Command Line",question:"Run second command if first fails:",options:[";","&&","||","|"],answer:2,explanation:"<code>||</code> triggers on non-zero exit status."},
{section:"3. The Power of the Command Line",question:"Extract first field (colon-delimited) from <code>/etc/passwd</code>:",options:["cut -d':' -f1 /etc/passwd","awk -F: '{print $0}'","wc -l /etc/passwd","sort -n /etc/passwd"],answer:0,explanation:"<code>cut</code> selects fields by delimiter."},
{section:"3. The Power of the Command Line",question:"Remove consecutive duplicates:",options:["uniq","sort","tr","paste"],answer:0,explanation:"Use <code>sort</code> first for global de-dup: <code>sort file | uniq</code>."},

/* ========= SECTION 4 =========
   The Linux Operating System (20)
*/
{section:"4. The Linux Operating System",question:"Primary function of the kernel:",options:["Manage user files","Provide GUI","Hardware/resource management","Package software"],answer:2,explanation:"The kernel abstracts hardware and schedules processes/memory/I/O."},
{section:"4. The Linux Operating System",question:"Device driver role:",options:["Boost GUI FPS","Connect user input to apps","Translate OS requests to hardware ops","Format disks automatically"],answer:2,explanation:"Drivers implement hardware-specific control for the kernel."},
{section:"4. The Linux Operating System",question:"Correct boot order:",options:["Kernel→BIOS→GRUB→init","BIOS/UEFI→Bootloader→Kernel→init/systemd","GRUB→BIOS→init→Kernel","Kernel→GRUB→BIOS→systemd"],answer:1,explanation:"Firmware loads bootloader, which loads the kernel, which starts init/systemd."},
{section:"4. The Linux Operating System",question:"Role of init/systemd:",options:["User permissions","Memory/swap policy","Start/manage services and processes","Display logs"],answer:2,explanation:"PID 1 brings up and supervises services."},
{section:"4. The Linux Operating System",question:"<code>uname -r</code> prints:",options:["User","Hostname","Kernel version","CPU info"],answer:2,explanation:"Use <code>uname -a</code> for full info."},
{section:"4. The Linux Operating System",question:"Realtime processes + CPU/mem usage:",options:["jobs","top","ls","kill"],answer:1,explanation:"<code>top</code> (or <code>htop</code>) shows live stats."},
{section:"4. The Linux Operating System",question:"PID is:",options:["Password ID","Program Index","File inode","Process identifier"],answer:3,explanation:"Each running process has a unique PID."},
{section:"4. The Linux Operating System",question:"Show all processes system-wide:",options:["ps aux","ls -a","grep ps","systemctl"],answer:0,explanation:"<code>ps aux</code> lists all processes with details."},
{section:"4. The Linux Operating System",question:"Stop by PID:",options:["halt","ps -e","kill &lt;PID&gt;","logout"],answer:2,explanation:"<code>kill</code> sends a signal (default SIGTERM)." },
{section:"4. The Linux Operating System",question:"What is <code>kill -9</code>?",options:["Rename process","Graceful restart","SIGKILL (cannot be trapped)","List threads"],answer:2,explanation:"SIGKILL immediately terminates the process."},
{section:"4. The Linux Operating System",question:"Difference kill vs kill -9:",options:["delete vs pause","-9 is forceful, cannot be caught","same effect","kill only for kernel threads"],answer:1,explanation:"Prefer plain <code>kill</code> (SIGTERM) before SIGKILL."},
{section:"4. The Linux Operating System",question:"Modern service manager:",options:["BIOS","systemd","cron","bashrc"],answer:1,explanation:"Most distros use systemd to manage units/services."},
{section:"4. The Linux Operating System",question:"<code>which</code> returns:",options:["Version","Binary path for command","Owner","Distro"],answer:1,explanation:"Searches the directories listed in <code>$PATH</code>."},
{section:"4. The Linux Operating System",question:"System binaries are commonly in:",options:["/root/bin","/home/bin","/usr/bin and /bin","/etc/commands"],answer:2,explanation:"Essential user binaries in <code>/bin</code> or <code>/usr/bin</code> (merged on many distros)."},
{section:"4. The Linux Operating System",question:"Essential config files live in:",options:["/bin","/etc","/home","/var"],answer:1,explanation:"<code>/etc</code> holds system configuration."},
{section:"4. The Linux Operating System",question:"Multi-core behavior:",options:["Use first only","Auto balance across cores","One kernel per core","Manual tuning required always"],answer:1,explanation:"The scheduler distributes runnable tasks across CPUs."},
{section:"4. The Linux Operating System",question:"<code>dmesg</code> shows:",options:["Login history","DNS cache","Kernel messages","Home sizes"],answer:2,explanation:"Kernel ring buffer, including device init messages."},
{section:"4. The Linux Operating System",question:"Loaded kernel modules list:",options:["lsmod","uname -a","ps -ef","top"],answer:0,explanation:"<code>lsmod</code> displays modules; use <code>modprobe</code> to load/unload."},
{section:"4. The Linux Operating System",question:"What abstracts hardware & schedules resources?",options:["Shell","Package manager","Kernel","systemd"],answer:2,explanation:"That is the kernel’s core responsibility."},
{section:"4. The Linux Operating System",question:"What is <code>/proc</code>?",options:["Home dirs","Binary store","Virtual FS with process/system info","Logs"],answer:2,explanation:"<code>/proc</code> is a procfs virtual interface to kernel state."},

/* ========= SECTION 5 =========
   Security and File Permissions (20)
*/
{section:"5. Security and File Permissions",question:"Change permissions of a file:",options:["chown","chmod","passwd","groupadd"],answer:1,explanation:"Use <code>chmod</code> with octal or symbolic modes."},
{section:"5. Security and File Permissions",question:"<code>r--</code> on a file means:",options:["Write+read","Execute only","Read only","No access"],answer:2,explanation:"r=read, w=write, x=execute."},
{section:"5. Security and File Permissions",question:"Three permission classes:",options:["root, guest, admin","owner, group, others","user, system, guest","exec, del, run"],answer:1,explanation:"Shown as <code>u,g,o</code> in symbolic mode."},
{section:"5. Security and File Permissions",question:"<code>chmod 755 script.sh</code>:",options:["Full to everyone","rw for owner; r for others; exec for none","rwx owner; r-x group; r-x others","Read-only for all"],answer:2,explanation:"755 = owner rwx (7), group r-x (5), others r-x (5)."},
{section:"5. Security and File Permissions",question:"'x' on a directory means:",options:["Can be executed like a file","Can list files","Can open files","Can enter (cd) it"],answer:3,explanation:"Execute on a dir allows traversal."},
{section:"5. Security and File Permissions",question:"<code>chmod u+x file.sh</code> adds:",options:["write for owner","removes exec for owner","execute for owner","execute for group"],answer:2,explanation:"Symbolic add for user (owner)."},
{section:"5. Security and File Permissions",question:"<code>chown</code> is used to:",options:["Change group only","Change owner (and optionally group)","Check ownership","Change permissions"],answer:1,explanation:"<code>chown user:group file</code>."},
{section:"5. Security and File Permissions",question:"Change current user password:",options:["passwd","passwd &lt;user&gt;","chpass","sudo"],answer:0,explanation:"<code>passwd</code> with no args affects current user."},
{section:"5. Security and File Permissions",question:"Effect of <code>umask</code>:",options:["Change system date","Default perms for new files/dirs","Encrypt passwords","Mask IPs"],answer:1,explanation:"E.g., <code>umask 022</code> -> files 644, dirs 755 (by default)."},
{section:"5. Security and File Permissions",question:"Root UID:",options:["0","1","100","65535"],answer:0,explanation:"UID 0 is superuser."},
{section:"5. Security and File Permissions",question:"Add a new user:",options:["addgroup","groupadd","useradd","mkuser"],answer:2,explanation:"Then set password with <code>passwd username</code>."},
{section:"5. Security and File Permissions",question:"Accounts database file:",options:["/etc/shells","/etc/passwd","/usr/bin/users","/home/.users"],answer:1,explanation:"Usernames, UIDs, GIDs, shells live in <code>/etc/passwd</code> (password hashes usually in <code>/etc/shadow</code>)."},
{section:"5. Security and File Permissions",question:"Run a single command with elevated privs:",options:["su","sudo","passwd","chmod"],answer:1,explanation:"<code>sudo</code> executes a command with another user's privileges."},
{section:"5. Security and File Permissions",question:"Permissions <code>-rw-r--r--</code> can modify by:",options:["Everyone","Owner only","Group members","No one"],answer:1,explanation:"Only the owner has write bit."},
{section:"5. Security and File Permissions",question:"Default primary group for new user (common):",options:["root","admin","users","same as username"],answer:3,explanation:"User private groups are common defaults."},
{section:"5. Security and File Permissions",question:"<code>sudo</code> typically requires:",options:["Kernel mode","Group permission only","Target user password","Current user password (if permitted in sudoers)"],answer:3,explanation:"Sudoers policy controls authentication."},
{section:"5. Security and File Permissions",question:"Best practice:",options:["Daily work as root","Disable all users","Use sudo instead of logging in as root","Remove /etc/passwd"],answer:2,explanation:"Least-privilege: escalate only when needed."},
{section:"5. Security and File Permissions",question:"Sticky bit (t) on dir (e.g., /tmp) ensures:",options:["Only root can write","Users can delete only their own files","Files are encrypted","Read-only mount"],answer:1,explanation:"Prevents users from deleting others' files in a shared dir."},
{section:"5. Security and File Permissions",question:"Symbol in <code>ls -l</code> indicating directory:",options:["-","d","l","r"],answer:1,explanation:"First char: <code>d</code>=directory, <code>-</code>=regular file, <code>l</code>=symlink."},
{section:"5. Security and File Permissions",question:"Permissions <code>-rwxr-xr--</code> — who can execute?",options:["Owner only","Group and others","Owner and group","Owner and root"],answer:2,explanation:"Owner (rwx) and group (r-x) can execute; others cannot (r--)."},
];

/* ====== RUNTIME ====== */
let i = 0;
let correct = 0;
const total = data.length;

const bar = document.getElementById("bar");
const count = document.getElementById("count");
const secEl = document.getElementById("sec");
const sectag = document.getElementById("sectag");
const qtext = document.getElementById("qtext");
const opts = document.getElementById("opts");
const exp = document.getElementById("exp");
const nextBtn = document.getElementById("next");
const skipBtn = document.getElementById("skip");
const scoreEl = document.getElementById("score");
const summary = document.getElementById("summary");

const results = []; // {q, chosen, correct, answerText, explanation, section}

function render() {
  const q = data[i];
  const pct = Math.round((i)/total*100);
  bar.style.width = pct + "%";
  count.textContent = `Question ${i+1} / ${total}`;
  secEl.textContent = q.section;
  sectag.textContent = q.section.split(". ")[0] + " • " + q.section.split(". ")[1];
  qtext.textContent = q.question;
  exp.style.display = "none"; exp.textContent = "";
  nextBtn.disabled = true;

  opts.innerHTML = "";
  q.options.forEach((opt, idx) => {
    const b = document.createElement("button");
    b.className = "opt";
    b.textContent = opt;
    b.onclick = () => check(idx);
    opts.appendChild(b);
  });
}

function check(sel) {
  const q = data[i];
  const btns = [...document.querySelectorAll(".opt")];
  btns.forEach(b => b.disabled = true);
  if (sel === q.answer) {
    btns[sel].classList.add("correct");
    exp.innerHTML = "✅ <b>Correct.</b> " + q.explanation;
    correct++;
    scoreEl.textContent = correct;
  } else {
    btns[sel].classList.add("wrong");
    btns[q.answer].classList.add("correct");
    exp.innerHTML = "❌ <b>Incorrect.</b> Correct answer: <b>" + q.options[q.answer] + "</b><br>" + q.explanation;
  }
  exp.style.display = "block";
  nextBtn.disabled = false;

  results.push({
    section:q.section, q:q.question,
    chosen:q.options[sel], ok:(sel===q.answer),
    answerText:q.options[q.answer], explanation:q.explanation
  });
}

function next() {
  if (i < total-1) {
    i++; render();
  } else {
    finish();
  }
}

function skip() {
  // record as blank/incorrect skip
  const q = data[i];
  results.push({section:q.section, q:q.question, chosen:"(skipped)", ok:false, answerText:q.options[q.answer], explanation:q.explanation});
  next();
}

function finish() {
  document.querySelector(".card").style.display = "none";
  const pct = Math.round((correct/total)*100);
  summary.style.display = "block";
  summary.innerHTML = `
    <p class="done">🎉 Test Complete</p>
    <p>You answered <span class="score">${correct}</span> / ${total} correctly (<b>${pct}%</b>).</p>
    <hr>
    <details open>
      <summary>Show full review (all questions & correct answers)</summary>
      ${results.map((r,idx)=>`
        <div style="margin-top:14px">
          <div class="mini muted">Q${idx+1} • ${r.section}</div>
          <div><b>${r.q}</b></div>
          <div>${r.ok ? "✅ Correct" : "❌ Incorrect"}${r.chosen && r.chosen!=="(skipped)" ? ` — You chose: <code>${escapeHtml(r.chosen)}</code>`:""}</div>
          <div>Correct answer: <b>${escapeHtml(r.answerText)}</b></div>
          <div class="mini" style="margin-top:6px">${r.explanation}</div>
        </div>
        <hr>`).join("")}
    </details>
  `;
}

function escapeHtml(s){return s.replace(/[&<>"']/g,m=>({ "&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#039;" }[m]))}

nextBtn.addEventListener("click", next);
skipBtn.addEventListener("click", skip);

// init
render();
</script>
</body>
</html>
